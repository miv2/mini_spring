# 🚀 프로젝트 진행 상황 (2026-01-19)

## ✅ 오늘 완료된 작업

### 1. CI/CD 파이프라인 고도화 (현업 수준)
- **빌드 시간 단축**: 2분 7초 → **57초** (중복 빌드 제거 및 Dockerfile 최적화)
- **배포 안정성**: 401 응답 허용 방식의 스마트 헬스 체크 도입 및 자동 롤백 로직 구현.
- **이미지 관리**: 401자리 전체 SHA 태그를 사용한 정밀한 버전 관리.

### 2. 파일 업로드 인프라 구축
- **서버 설정**: 원격 서버(`141.11.9.2`) 내 `~/nginx-docker/uploads` 디렉토리 생성 및 권한 설정.
- **볼륨 매핑**: 컨테이너 재시작 시에도 파일이 유지되도록 도커 볼륨 매핑 완료.
- **Nginx 연동**: `/uploads/**` 경로로 들어오는 정적 이미지 서빙 설정 완료.

### 3. 도메인 및 DB 리팩토링 (현업 표준)
- **이미지 통합 관리**: `ImageFile` 엔티티 및 테이블 생성 (메타데이터 관리).
- **연관 관계 개선**: `Member` 테이블에서 문자열 URL을 제거하고 `ImageFile`과의 FK 연관 관계로 변경.
- **DB 마이그레이션**: 서버 MariaDB에 `image_file` 테이블 생성 및 `member` 테이블 스키마 업데이트 완료.

### 4. 핵심 로직 구현
- **`FileService` 구현**: 날짜별 디렉토리 생성, UUID 파일명, 이미지 유효성 검사, 상대 경로 저장 로직 포함.

---

## 📅 다음에 진행할 작업
1. **프로필 이미지 업로드 API 구현**: `MemberController`에 파일 업로드 엔드포인트 추가.
2. **서비스 연동**: `FileService`와 `MemberService`를 연결하여 실제 DB의 `profile_image_id` 업데이트.
3. **기본 이미지 처리**: 프로필 이미지가 없을 경우의 대응 로직 추가.

---
**메모**: 모든 설정 정보(서버 IP, DB 계정 등)는 에이전트의 내부 기억 장치에 안전하게 저장되어 있습니다.
